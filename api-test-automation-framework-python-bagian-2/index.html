<!DOCTYPE html><html lang="id-ID"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Assert dan Pytest - API Test Framework Python (Bagian 2) - Fachrul Choliluddin</title><meta name="description" content="Hi Kawan ðŸ‘‹, Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya. Oh&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fachrul.id/api-test-automation-framework-python-bagian-2/"><link rel="amphtml" href="https://fachrul.id/amp/api-test-automation-framework-python-bagian-2/"><link rel="alternate" type="application/atom+xml" href="https://fachrul.id/feed.xml"><link rel="alternate" type="application/json" href="https://fachrul.id/feed.json"><meta property="og:title" content="Assert dan Pytest - API Test Framework Python (Bagian 2)"><meta property="og:image" content="https://fachrul.id/media/website/fachrulch-icon.png"><meta property="og:image:width" content="1000"><meta property="og:image:height" content="1000"><meta property="og:site_name" content="Catatan celoteh @FachrulCH"><meta property="og:description" content="Hi Kawan ðŸ‘‹, Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya. Oh&hellip;"><meta property="og:url" content="https://fachrul.id/api-test-automation-framework-python-bagian-2/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@fachrulch"><meta name="twitter:title" content="Assert dan Pytest - API Test Framework Python (Bagian 2)"><meta name="twitter:description" content="Hi Kawan ðŸ‘‹, Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya. Oh&hellip;"><meta name="twitter:image" content="https://fachrul.id/media/website/fachrulch-icon.png"><link rel="shortcut icon" href="https://fachrul.id/media/website/tester-gadungan-icon.png" type="image/png"><link rel="stylesheet" href="https://fachrul.id/assets/css/style.css?v=888847cca7f0a76e2a086ee8b38aac05"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fachrul.id/api-test-automation-framework-python-bagian-2/"},"headline":"Assert dan Pytest - API Test Framework Python (Bagian 2)","datePublished":"2021-01-29T12:58","dateModified":"2021-08-08T13:36","image":{"@type":"ImageObject","url":"https://fachrul.id/media/website/fachrulch-icon.png","height":1000,"width":1000},"description":"Hi Kawan ðŸ‘‹, Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya. Oh&hellip;","author":{"@type":"Person","name":"Fachrul Choliluddin","url":"https://fachrul.id/authors/fachrulch/"},"publisher":{"@type":"Organization","name":"Fachrul Choliluddin","logo":{"@type":"ImageObject","url":"https://fachrul.id/media/website/fachrulch-icon.png","height":1000,"width":1000}}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-133827625-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-133827625-1');</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9108500865803974" crossorigin="anonymous"></script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://fachrul.id/"><img src="https://fachrul.id/media/website/fachrulch-icon.png" alt="Catatan celoteh @FachrulCH" width="1000" height="1000"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://fachrul.id/" target="_self">Beranda</a></li><li><a href="https://fachrul.id/daftar-isi/" target="_self">Daftar Isi</a></li><li><a href="https://fachrul.id/celoteh/tutorials/" target="_blank">Panduan</a></li><li><a href="https://fachrul.id/about-fachrulch/" target="_self">Tentang Saya</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://fachrul.id/media/website/whois-fachrulch.png" srcset="https://fachrul.id/media/website/responsive/whois-fachrulch-xs.png 300w, https://fachrul.id/media/website/responsive/whois-fachrulch-sm.png 480w, https://fachrul.id/media/website/responsive/whois-fachrulch-md.png 768w, https://fachrul.id/media/website/responsive/whois-fachrulch-lg.png 1024w, https://fachrul.id/media/website/responsive/whois-fachrulch-xl.png 1360w, https://fachrul.id/media/website/responsive/whois-fachrulch-2xl.png 1600w" sizes="100vw" loading="eager" alt="penulis"><figcaption>Fachrul Choliluddin</figcaption></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2021-01-29T12:58">29 Jan 2021</time></div><h1>Assert dan Pytest - API Test Framework Python (Bagian 2)</h1><div class="post__meta post__meta--author"><img src="https://fachrul.id/media/website/fachrulch-profile.jpg" loading="eager" height="1024" width="1024" class="post__author-thumb" alt="Fachrul Choliluddin"> <a href="https://fachrul.id/authors/fachrulch/" class="feed__author">Fachrul Choliluddin</a></div></div></header></div><div class="wrapper post__entry"><p>Hi Kawan ðŸ‘‹,</p><p>Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya.Â </p><p>Oh iya artikel ini adalah salah satu dari rangkaian tutorial cara membuat RestfulAPI Test Framework dengan bahasa pemrograman Python, artikel lainnya bisa kamu cekidot disini ya:</p><ul><li><a href="https://fachrul.id/yuk-belajar-cara-membuat-api-test-automation-framework-python-bagian-1/" target="_blank" rel="noopener noreferrer">PelajaranÂ 1:Â  Setup dan pengenalan HTTP requests</a></li><li><a href="https://fachrul.id/api-test-automation-framework-python-bagian-2/" target="_blank" rel="noopener noreferrer">Pelajaran 2: Pengujian dengan assert dan pytest</a></li><li><a href="https://fachrul.id/api-test-framework-python-struktur-framework-dan-fluent-assertion-bagian-3/" target="_blank" rel="noopener noreferrer">Pelajaran 3: Struktur awal test framework dan library fluent assertion</a></li><li><a href="https://fachrul.id/refactoring-dan-base-api-api-test-framework-python-bagian-4/" target="_blank" rel="noopener noreferrer" style="font-family: -apple-system, BlinkMacSystemFont, Arial, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: inherit;">Pelajaran 4: Refaktoring dan base helper</a></li><li><a href="https://fachrul.id/reporting-api-test-framework-python-bagian-5/" target="_blank" rel="noopener noreferrer" style="font-family: -apple-system, BlinkMacSystemFont, Arial, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: inherit;">Pelajaran 5: Reporting</a></li><li><a href="https://fachrul.id/json-schema-validation-api-test-framework-python-extra-bonus/" target="_blank" rel="noopener noreferrer">Extra: Penambahan schema validation dan running test in parallel</a></li></ul><hr><h2>Bagaimana cara menguji API response secara programatis dengan python?</h2><p>Pada umumnya di semua bahasa pemrograman memiliki sebuah statement yang digunakan untuk menguji kebenaran sebuah expresion pada program, dan akan mentrigger error pada saat kondisi tersebut bernilai false, pada python kita mengenalnya dengan `assert`, namun sebelum kita menggunakan fungsi `assert`, alangkah baiknya jika kita mengetahui bagaimana cara menguji aplikasi secara sederhana (atau equivalent dari assert):</p><pre class="lang-py s-code-block hljs python"><code><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> condition:
    <span class="hljs-keyword">raise</span> AssertionError()</code></pre><p>Apabila menggunakan `assert` maka, kode di atas akan menjadi serupa:</p><pre class="lang-py s-code-block hljs python"><code><span class="hljs-keyword">assert</span> condition</code></pre><p>Jika kamu perhatikan, assert tidak memiliki kurung seperti function pada umumnya, karena ia adalah sebuah statement bukan sebuah function, oia assert juga bisa memiliki pesan opsional, jadi ketika program kita bisa menyisipkan sebuah kalimat tambahan yang akan mempermudah proses debug, contohnya:</p><pre class="lang-py s-code-block hljs python"><code><span class="hljs-keyword">assert</span> response_ok, <span class="hljs-string">"Oh no! Server /api/airports is not responding OK!"</span>
</code></pre><p>Nah bagaimana implementasinya di kode kita sebelumnya?</p><pre>import requests<br><br>response = requests.get('https://airportgap.dev-tester.com/api/airports')<br>assert response.status_code == 200</pre><p>Penjelasan kode:</p><ul><li>baris 1-3 =&gt; kita import library request dan mengakses server dengan method GET lalu disimpan ke dalam variable `response`</li><li>baris 4 =&gt; kita melakukan pengujian apakah response.status bernilai 200, jika tidak maka program akan error</li></ul><p>Oia satu yang perlu disimak, jika assert mengevaluasi nilai False, maka program akan BERHENTI karena error, jadi baris setelah assert failed tidak akan di eksekusi loh! ini bisa memiliki efek samping jika kita perlu melakukan teardown atau proses tertentu setelah test selesai dilakukan (contoh pada pengujian Web, teardown untuk menutup browser setelah sesi test selesai)</p><hr><h2>Pytest? Benda apakah itu bro?</h2><p>Pytest adalah test library pada python, mirip junit atau testNG pada java, selengkapnya sudah saya tulis di artikel terpisah diÂ <a href="https://fachrul.id/belajar-pytest-framework-1/">https://fachrul.id/belajar-pytest-framework-1/</a></p><p>Oke penggunaan pytest pada project kita sekarang adalah agar kode test yang kita tulis menjadi rapih dan memiliki report pada command line yang lebih rapih manakala ada kejadian errorÂ </p><p>Untuk menggunakan pytest kita perlu install dahulu library nya dengan cara mengetikan command `pip install pytest` pada terminal/cmd kamu</p><p>contoh implementasi pytest</p><pre>import requests<br><br><br>def test_get_all_airports():<br>    response = requests.get('https://airportgap.dev-tester.com/api/airports')<br>    data = response.json().get('data')<br><br>    assert response.status_code == 200<br>    assert len(data) &gt; 5</pre><p>apa yang beda pada kode kita? berikut penjelasannya</p><ul><li>import requests =&gt; kita meninisiasi import library request sebelum digunakan di baris setelahnya</li><li>def test_get_all_airports(): =&gt; kita membuat sebuah function yang diawali dengan def lalu nama function nya, dan penamaan function ini wajib memiliki prefix test_xxxx untuk dikenali sebagai sebuah test case oleh pytest nantinya</li><li>response = requests.get(&lt;url&gt;) =&gt; kita melakukan permintaan data pada webserver dan ditampung ke dalam variable response</li><li>data = response.json().get('data') =&gt; disini kita akan melakukan chaining proses dari mulai parsing response dalam bentuk json menjadi tipe data dictionary pada python, dan dilanjutkan dengan method .get('data')Â artinya kita akan mengambil value dari atribut "data" pada dictionary tadi</li><li>assert response.status_code == 200 =&gt; kita melakukan pengujian dengan mengevaluasi status code http response nya harus sama dengan 200</li><li>assert len(data) &gt; 5 =&gt; function len digunakan untuk menghitung berapa jumlah data pada suatu list/collection, nah disini artinya kita melakukan pengujian jumlah data airport harus lebih dari 5</li></ul><h2>Lalu bagaimana cara menjalankan kodenya?</h2><p>oia untuk pytest ada sedikit perbedaan pada cara menjalankan kode/file test, jika sebelumnya kita menjalankanÂ kode pada terminal/cmd dengan `python nama_file.py` sekarang menjadi `pytest nama_file.py`</p><p>perhatikan output pada console sekarang menjadi berbeda dengan materi sebelumnya di pelajaran 1 kan ya!</p><p>oia untuk lebih informatif bisa tambahkan -v (verbose) pada argument pytest menjadi seperti ini `pytest -v nama_file.py`</p><p>Jika kode tidak berjalan dengan pytestÂ yang perlu diperhatikan adalah penamaan method (def) harus diawali dengan test_xxx yaa!</p><p>Â </p><p>Salam!</p><p>Selengkapnya ada pada video live coding ini:</p><div class="post__iframe"><iframe loading="lazy" width="560" height="315" src="https://www.youtube.com/embed/XkrOAdGQ8Zk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on 8 Agt 2021</p><ul class="post__tag"><li><a href="https://fachrul.id/celoteh/automation-python/">automation-python</a></li><li><a href="https://fachrul.id/celoteh/tutorials/">tutorials</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ffachrul.id%2Fapi-test-automation-framework-python-bagian-2%2F" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Ffachrul.id%2Fapi-test-automation-framework-python-bagian-2%2F&amp;via=%40fachrulch&amp;text=Assert%20dan%20Pytest%20-%20API%20Test%20Framework%20Python%20(Bagian%202)" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ffachrul.id%2Fapi-test-automation-framework-python-bagian-2%2F" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span></a></div><div class="post__bio bio"><img src="https://fachrul.id/media/website/fachrulch-profile.jpg" loading="lazy" height="1024" width="1024" class="bio__avatar" alt="Fachrul Choliluddin"><div class="bio__info"><h3 class="bio__name"><a href="https://fachrul.id/authors/fachrulch/" rel="author">Fachrul Choliluddin</a></h3><p>Seorang peneliti kualitas perangkat lunak yang handal Sering menulis artikel tentang cara menjadi Software Quality Development Engineer in Test, Quality Assurance QA, Agile Testing, atau belajar membuat automation test dengan Selenium, Appium, API test</p></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://fachrul.id/yuk-belajar-cara-membuat-api-test-automation-framework-python-bagian-1/" class="post__nav-link" rel="prev"><span>Previous</span> Yuk Belajar Cara Membuat API Test Automation Framework Python (Bagian 1)</a></div><div class="post__nav-next"><a href="https://fachrul.id/api-test-framework-python-struktur-framework-dan-fluent-assertion-bagian-3/" class="post__nav-link" rel="next"><span>Next</span> Struktur Framework dan Fluent Assertion - API Test Framework Python (Bagian 3) </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2020-05-12T19:03" class="feed__date">12 Mei 2020</time></div><h3 class="h1"><a href="https://fachrul.id/memulai-automation-test-selenium-python-bagian-1/">Memulai Automation Test Selenium + Python (bagian 1)</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2020-05-07T21:07" class="feed__date">7 Mei 2020</time></div><h3 class="h1"><a href="https://fachrul.id/mau-belajar-automation-test-dengan-python-mulai-dari-mana/">Mau Belajar Automation Test dengan Python, Mulai Dari Mana?</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2020-04-27T12:24" class="feed__date">27 Apr 2020</time></div><h3 class="h1"><a href="https://fachrul.id/catat-ini-berbagai-command-adb-yang-berguna-untuk-automation-tester/">Catat ini! berbagai command ADB yang berguna untuk automation tester</a></h3></article></div></div><div class="post__comments"><div class="wrapper"></div></div></main><footer class="footer"><div class="footer__social"><a href="https://twitter.com/fachrulch" aria-label="Twitter"><svg><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://instagram.com/fachrulch" aria-label="Instagram"><svg><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://www.linkedin.com/in/fachrul/" aria-label="LinkedIn"><svg><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://www.youtube.com/channel/UCZVY3VNPkFs_iINTXEBWWgw" aria-label="Youtube"><svg><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright"><p>(c) 2019-2020 - @FachrulCH, powered by Publii</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://fachrul.id/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>