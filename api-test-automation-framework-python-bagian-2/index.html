<!DOCTYPE html><html lang="id-ID"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Assert dan Pytest - API Test Framework Python (Bagian 2) - Fachrul Choliluddin</title><meta name="description" content="Hi Kawan ðŸ‘‹, Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya. Oh&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fachrul.id/api-test-automation-framework-python-bagian-2/"><link rel="amphtml" href="https://fachrul.id/amp/api-test-automation-framework-python-bagian-2/"><link rel="alternate" type="application/atom+xml" href="https://fachrul.id/feed.xml"><link rel="alternate" type="application/json" href="https://fachrul.id/feed.json"><meta property="og:title" content="Assert dan Pytest - API Test Framework Python (Bagian 2)"><meta property="og:image" content="https://fachrul.id/media/website/profile_fachrul_paperprint_300.jpg"><meta property="og:site_name" content="Celotehan si FachrulCH"><meta property="og:description" content="Hi Kawan ðŸ‘‹, Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya. Oh&hellip;"><meta property="og:url" content="https://fachrul.id/api-test-automation-framework-python-bagian-2/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@fachrulch"><meta name="twitter:title" content="Assert dan Pytest - API Test Framework Python (Bagian 2)"><meta name="twitter:description" content="Hi Kawan ðŸ‘‹, Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya. Oh&hellip;"><meta name="twitter:image" content="https://fachrul.id/media/website/profile_fachrul_paperprint_300.jpg"><link rel="shortcut icon" href="https://fachrul.id/media/website/tester-gadungan-icon.png" type="image/png"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Condensed:400,700&amp;subset=latin-ext" rel="stylesheet"><link rel="stylesheet" href="https://fachrul.id/assets/css/style.css?v=e2caf1b62936b391327080c6f3874d91"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fachrul.id/api-test-automation-framework-python-bagian-2/"},"headline":"Assert dan Pytest - API Test Framework Python (Bagian 2)","datePublished":"2021-01-29T15:58","dateModified":"2021-01-30T04:05","image":{"@type":"ImageObject","url":"https://fachrul.id/media/website/profile_fachrul_paperprint_300.jpg","height":300,"width":300},"description":"Hi Kawan ðŸ‘‹, Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya. Oh&hellip;","author":{"@type":"Person","name":"Fachrul Choliluddin"},"publisher":{"@type":"Organization","name":"Fachrul Choliluddin","logo":{"@type":"ImageObject","url":"https://fachrul.id/media/website/profile_fachrul_paperprint_300.jpg","height":300,"width":300}}}</script><script async src="https://fachrul.id/assets/js/lazysizes.min.js?v=fcb7109aacc796048242935c33a7f9ab"></script><style>.top__search [type=search] {
						background-image: url(https://fachrul.id/assets/svg/search.svg);
				    }</style><script async src="https://www.googletagmanager.com/gtag/js?id=UA-133827625-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-133827625-1');</script><link rel="stylesheet" href="https://fachrul.id/assets/css/prism.css?v=940ae6892502fe0ea961adba9e9dd687"><script defer="defer" src="https://fachrul.id/assets/js/prism.js?v=0f2f0bb9a3ef67118a9686d63a1681fc"></script></head><body><div class="container"><header class="js-top is-sticky"><a class="logo" href="https://fachrul.id/"><img src="https://fachrul.id/media/website/profile_fachrul_paperprint_300.jpg" alt="Celotehan si FachrulCH"></a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"><li><a href="https://fachrul.id/" target="_self">Beranda</a></li><li><a href="https://fachrul.id/daftar-isi/" target="_self">Daftar Isi</a></li><li><a href="https://fachrul.id/about-fachrulch/" target="_self">Tentang Saya</a></li></ul></nav><div class="top__search"><form action="https://fachrul.id/search.html" class="search"><input type="search" name="q" placeholder="search..."></form></div></div></header><main><article class="post"><div class="hero"><figure class="hero__wrap"><img src="https://fachrul.id/media/website/whois-fachrulch.png" srcset="https://fachrul.id/media/website/responsive/whois-fachrulch-xs.png 300w, https://fachrul.id/media/website/responsive/whois-fachrulch-sm.png 480w, https://fachrul.id/media/website/responsive/whois-fachrulch-md.png 768w, https://fachrul.id/media/website/responsive/whois-fachrulch-lg.png 1024w, https://fachrul.id/media/website/responsive/whois-fachrulch-xl.png 1360w, https://fachrul.id/media/website/responsive/whois-fachrulch-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" alt="fachrul choliluddin as speaker in agile testing"><figcaption>Fachrul Choliluddin</figcaption></figure><header class="hero__text"><h1>Assert dan Pytest - API Test Framework Python (Bagian 2)</h1><p class="post__meta"><time datetime="2021-01-29T15:58">29 Jan 2021 </time>By <a href="https://fachrul.id/authors/fachrulch/" rel="author" title="Fachrul Choliluddin">Fachrul Choliluddin</a></p></header></div><div class="post__entry"><p>Hi Kawan ðŸ‘‹,</p><p>Di artikel sebelumnya kita telah belajar mengenai instalasi python , library requests dan melakukan HTTP call dengan method GET secara programatis melalui kode python, walaupun belum ada test disana, karena memang artikelnya cukup panjang hehehe, jadi kita lanjut disini saja ya.Â </p><p>Oh iya artikel ini adalah salah satu dari rangkaian tutorial cara membuat RestfulAPI Test Framework dengan bahasa pemrograman Python, artikel lainnya bisa kamu cekidot disini ya:</p><ul><li><a href="https://fachrul.id/yuk-belajar-cara-membuat-api-test-automation-framework-python-bagian-1/" target="_blank" rel="noopener noreferrer">PelajaranÂ 1:Â  Setup dan pengenalan HTTP requests</a></li><li><a href="https://fachrul.id/api-test-automation-framework-python-bagian-2/" target="_blank" rel="noopener noreferrer">Pelajaran 2: Pengujian dengan assert dan pytest</a></li><li><a href="https://fachrul.id/api-test-framework-python-struktur-framework-dan-fluent-assertion-bagian-3/" target="_blank" rel="noopener noreferrer">Pelajaran 3: Struktur awal test framework dan library fluent assertion</a></li><li><a href="https://fachrul.id/refactoring-dan-base-api-api-test-framework-python-bagian-4/" target="_blank" rel="noopener noreferrer" style="font-family: -apple-system, BlinkMacSystemFont, Arial, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: inherit;">Pelajaran 4: Refaktoring dan base helper</a></li><li><a href="https://fachrul.id/reporting-api-test-framework-python-bagian-5/" target="_blank" rel="noopener noreferrer" style="font-family: -apple-system, BlinkMacSystemFont, Arial, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; font-size: inherit;">Pelajaran 5: Reporting</a></li><li><a href="https://fachrul.id/json-schema-validation-api-test-framework-python-extra-bonus/" target="_blank" rel="noopener noreferrer">Extra: Penambahan schema validation dan running test in parallel</a></li></ul><hr><h2>Bagaimana cara menguji API response secara programatis dengan python?</h2><p>Pada umumnya di semua bahasa pemrograman memiliki sebuah statement yang digunakan untuk menguji kebenaran sebuah expresion pada program, dan akan mentrigger error pada saat kondisi tersebut bernilai false, pada python kita mengenalnya dengan `assert`, namun sebelum kita menggunakan fungsi `assert`, alangkah baiknya jika kita mengetahui bagaimana cara menguji aplikasi secara sederhana (atau equivalent dari assert):</p><pre class="lang-py s-code-block hljs python"><code><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> condition:
    <span class="hljs-keyword">raise</span> AssertionError()</code></pre><p>Apabila menggunakan `assert` maka, kode di atas akan menjadi serupa:</p><pre class="lang-py s-code-block hljs python"><code><span class="hljs-keyword">assert</span> condition</code></pre><p>Jika kamu perhatikan, assert tidak memiliki kurung seperti function pada umumnya, karena ia adalah sebuah statement bukan sebuah function, oia assert juga bisa memiliki pesan opsional, jadi ketika program kita bisa menyisipkan sebuah kalimat tambahan yang akan mempermudah proses debug, contohnya:</p><pre class="lang-py s-code-block hljs python"><code><span class="hljs-keyword">assert</span> response_ok, <span class="hljs-string">"Oh no! Server /api/airports is not responding OK!"</span>
</code></pre><p>Nah bagaimana implementasinya di kode kita sebelumnya?</p><pre>import requests<br><br>response = requests.get('https://airportgap.dev-tester.com/api/airports')<br>assert response.status_code == 200</pre><p>Penjelasan kode:</p><ul><li>baris 1-3 =&gt; kita import library request dan mengakses server dengan method GET lalu disimpan ke dalam variable `response`</li><li>baris 4 =&gt; kita melakukan pengujian apakah response.status bernilai 200, jika tidak maka program akan error</li></ul><p>Oia satu yang perlu disimak, jika assert mengevaluasi nilai False, maka program akan BERHENTI karena error, jadi baris setelah assert failed tidak akan di eksekusi loh! ini bisa memiliki efek samping jika kita perlu melakukan teardown atau proses tertentu setelah test selesai dilakukan (contoh pada pengujian Web, teardown untuk menutup browser setelah sesi test selesai)</p><hr><h2>Pytest? Benda apakah itu bro?</h2><p>Pytest adalah test library pada python, mirip junit atau testNG pada java, selengkapnya sudah saya tulis di artikel terpisah diÂ <a href="https://fachrul.id/belajar-pytest-framework-1/">https://fachrul.id/belajar-pytest-framework-1/</a></p><p>Oke penggunaan pytest pada project kita sekarang adalah agar kode test yang kita tulis menjadi rapih dan memiliki report pada command line yang lebih rapih manakala ada kejadian errorÂ </p><p>Untuk menggunakan pytest kita perlu install dahulu library nya dengan cara mengetikan command `pip install pytest` pada terminal/cmd kamu</p><p>contoh implementasi pytest</p><pre>import requests<br><br><br>def test_get_all_airports():<br>    response = requests.get('https://airportgap.dev-tester.com/api/airports')<br>    data = response.json().get('data')<br><br>    assert response.status_code == 200<br>    assert len(data) &gt; 5</pre><p>apa yang beda pada kode kita? berikut penjelasannya</p><ul><li>import requests =&gt; kita meninisiasi import library request sebelum digunakan di baris setelahnya</li><li>def test_get_all_airports(): =&gt; kita membuat sebuah function yang diawali dengan def lalu nama function nya, dan penamaan function ini wajib memiliki prefix test_xxxx untuk dikenali sebagai sebuah test case oleh pytest nantinya</li><li>response = requests.get(&lt;url&gt;) =&gt; kita melakukan permintaan data pada webserver dan ditampung ke dalam variable response</li><li>data = response.json().get('data') =&gt; disini kita akan melakukan chaining proses dari mulai parsing response dalam bentuk json menjadi tipe data dictionary pada python, dan dilanjutkan dengan method .get('data')Â artinya kita akan mengambil value dari atribut "data" pada dictionary tadi</li><li>assert response.status_code == 200 =&gt; kita melakukan pengujian dengan mengevaluasi status code http response nya harus sama dengan 200</li><li>assert len(data) &gt; 5 =&gt; function len digunakan untuk menghitung berapa jumlah data pada suatu list/collection, nah disini artinya kita melakukan pengujian jumlah data airport harus lebih dari 5</li></ul><h2>Lalu bagaimana cara menjalankan kodenya?</h2><p>oia untuk pytest ada sedikit perbedaan pada cara menjalankan kode/file test, jika sebelumnya kita menjalankanÂ kode pada terminal/cmd dengan `python nama_file.py` sekarang menjadi `pytest nama_file.py`</p><p>perhatikan output pada console sekarang menjadi berbeda dengan materi sebelumnya di pelajaran 1 kan ya!</p><p>oia untuk lebih informatif bisa tambahkan -v (verbose) pada argument pytest menjadi seperti ini `pytest -v nama_file.py`</p><p>Jika kode tidak berjalan dengan pytestÂ yang perlu diperhatikan adalah penamaan method (def) harus diawali dengan test_xxx yaa!</p><p>Â </p><p>Salam!</p><p>Selengkapnya ada pada video live coding ini:</p><p></p><div class="post__iframe"><iframe class="lazyload" width="560" height="315" data-src="https://www.youtube.com/embed/XkrOAdGQ8Zk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p><p class="post__last-updated">This article was updated on 30 Jan 2021</p></div><aside class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ffachrul.id%2Fapi-test-automation-framework-python-bagian-2%2F" class="js-share facebook" title="Share with Facebook" rel="nofollow"><svg class="icon"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Ffachrul.id%2Fapi-test-automation-framework-python-bagian-2%2F&amp;via=%40fachrulch&amp;text=Assert%20dan%20Pytest%20-%20API%20Test%20Framework%20Python%20(Bagian%202)" class="js-share twitter" title="Share with Twitter" rel="nofollow"><svg class="icon"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Ffachrul.id%2Fapi-test-automation-framework-python-bagian-2%2F&amp;title=Assert%20dan%20Pytest%20-%20API%20Test%20Framework%20Python%20(Bagian%202)" class="js-share linkedin" title="Share with LinkedIn" rel="nofollow"><svg class="icon"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#linkedin"/></svg></a></aside><footer class="post__footer"><div class="post__bio"><img src="https://fachrul.id/media/website/uing.png" alt="Fachrul Choliluddin"><h3><a href="https://fachrul.id/authors/fachrulch/" class="inverse" title="Fachrul Choliluddin">Fachrul Choliluddin</a></h3><p>Seorang peneliti kualitas perangkat lunak yang handal Sering menulis artikel tentang cara menjadi Software Quality Development Engineer in Test, Quality Assurance QA, Agile Testing, atau belajar membuat automation test dengan Selenium, Appium, API test</p></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://fachrul.id/yuk-belajar-cara-membuat-api-test-automation-framework-python-bagian-1/" class="inverse" rel="prev">Yuk Belajar Cara Membuat API Test Automation Framework Python (Bagian 1)</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://fachrul.id/api-test-framework-python-struktur-framework-dan-fluent-assertion-bagian-3/" class="inverse" rel="next">Struktur Framework dan Fluent Assertion - API Test Framework Python (Bagian 3)</a></h5></div></nav><div class="post__related"><h3>Related posts</h3><div class="post__related__wrap"><figure><a href="https://fachrul.id/menjadi-penguji-program-komputer-software-tester/"><img class="lazyload" src="https://fachrul.id/media/posts/18/responsive/artificial-intelligence-automation-bookcase-1329068-xs.jpg" data-srcset="https://fachrul.id/media/posts/18/responsive/artificial-intelligence-automation-bookcase-1329068-xs.jpg" data-expand="300" alt=""></a><figcaption><h4><a href="https://fachrul.id/menjadi-penguji-program-komputer-software-tester/" class="inverse">Menjadi Penguji Program Komputer (software tester)</a></h4><time datetime="2019-05-31T23:39">31 Mei 2019</time></figcaption></figure><figure><a href="https://fachrul.id/kiat-memilih-bahasa-pemrograman-untuk-automation-test/"><img class="lazyload" src="https://fachrul.id/media/posts/15/responsive/artificial-intelligence-machine-machine-learning-185725-xs.jpg" data-srcset="https://fachrul.id/media/posts/15/responsive/artificial-intelligence-machine-machine-learning-185725-xs.jpg" data-expand="300" alt=""></a><figcaption><h4><a href="https://fachrul.id/kiat-memilih-bahasa-pemrograman-untuk-automation-test/" class="inverse">Kiat memilih bahasa pemrograman untuk automation test</a></h4><time datetime="2019-05-17T17:00">17 Mei 2019</time></figcaption></figure><figure><a href="https://fachrul.id/kiat-sukses-dalam-membuat-automation-test-solution/"><img class="lazyload" src="https://fachrul.id/media/posts/8/responsive/pexels-photo-1020325-xs.jpeg" data-srcset="https://fachrul.id/media/posts/8/responsive/pexels-photo-1020325-xs.jpeg" data-expand="300" alt="membuat otomasi test"></a><figcaption><h4><a href="https://fachrul.id/kiat-sukses-dalam-membuat-automation-test-solution/" class="inverse">Kiat Sukses dalam Membuat Automation Test Solution</a></h4><time datetime="2019-02-22T07:35">22 Feb 2019</time></figcaption></figure></div></div></footer></article><h3>Comments</h3><div id="disqus_thread"></div><script>var disqus_config = function () {
              this.page.url = 'https://fachrul.id/api-test-automation-framework-python-bagian-2/';
      		this.page.identifier = '42';
              this.page.title = ' Assert dan Pytest - API Test Framework Python (Bagian 2) - Fachrul Choliluddin';
          };
      
          var disqus_loaded = false;
      
          function publiiLoadDisqus() {
              if(disqus_loaded) {
                  return false;
              }
      
              var top = document.getElementById('disqus_thread').offsetTop;
      
              if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                  disqus_loaded = true;
      
                  (function () {
                      var d = document, s = d.createElement('script');
                      s.src = '//testergadungan.disqus.com/embed.js';
                      s.setAttribute('data-timestamp', +new Date());
                      (d.head || d.body).appendChild(s);
                  })();
              }
          }
      
          publiiLoadDisqus();
      
          window.onscroll = function() {
              publiiLoadDisqus();
          };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></main><footer class="footer"><div class="footer__social"><a href="https://twitter.com/fachrulch" aria-label="Twitter"><svg class="icon"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://instagram.com/fachrulch" aria-label="Instagram"><svg class="icon"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://www.linkedin.com/in/fachrul/" aria-label="LinkedIn"><svg class="icon"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://www.youtube.com/channel/UCZVY3VNPkFs_iINTXEBWWgw" aria-label="Youtube"><svg class="icon"><use xlink:href="https://fachrul.id/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright">(c) 2019-2020 - @FachrulCH, powered by Publii</div></footer></div><script defer="defer" src="https://fachrul.id/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://fachrul.id/assets/js/scripts.min.js?v=5dffffceea1fdc07740088873ba7ff09"></script></body></html>